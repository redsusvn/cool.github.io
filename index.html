<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Red Sus's | Home</title>
    <meta name="description" content="Welcome to Red Sus's Profile! Nothing much tbh just a place for me to store and archive a bunch of shit.">
    <meta name="keywords" content="red sus, red sus's, Red Sus, Red Sus's, red sus web, red sus's web, Red Sus web, Red Sus's web, red sus website, red sus's website, Red Sus website, Red Sus's website, portfolio, gallery">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@600;700;800&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        :root {
            --primary-glow: rgba(255, 106, 136, 0.8);
            --secondary-glow: rgba(255, 154, 139, 0.6);
            --border-color: rgba(239, 154, 154, 0.5);
            --bg-glass: rgba(255, 255, 255, 0.25);
            --bg-glass-hover: rgba(255, 255, 255, 0.3);
        }
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #ffdde1, #ff99ac);
            color: #424242;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            position: relative;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }
        body.no-select {
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }
        img {
            -webkit-user-drag: none;
            -khtml-user-drag: none;
            -moz-user-drag: none;
            -o-user-drag: none;
            user-drag: none;
        }
        h1, h2, h3, .poppins-font {
            font-family: 'Poppins', sans-serif;
        }
        #videoBackgroundContainer {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            background: linear-gradient(135deg, #ffdde1, #ff99ac);
        }
        #bgVideo {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: opacity 0.8s ease-in-out, filter 0.5s ease;
            opacity: 0;
        }
        #snowCanvas,
        #trailCanvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
            pointer-events: none;
        }
        #trailCanvas {
            z-index: 9999;
        }
        .main-content-wrapper {
            position: relative;
            z-index: 1;
            display: flex;
            flex-direction: column;
            padding: 20px;
            max-width: 90%;
            width: 800px;
            border-radius: 15px;
            background-color: var(--bg-glass);
            backdrop-filter: blur(8px);
            box-shadow: 0 0 30px rgba(229, 115, 115, 0.4);
            min-height: 500px;
            transition: transform 0.5s ease, opacity 0.5s ease, width 0.5s ease, height 0.5s ease;
            transform-origin: center;
        }
        .main-content-wrapper.minimized {
            transform: scale(0);
            opacity: 0;
            pointer-events: none;
        }
        .main-content-wrapper.maximized {
            width: 95vw;
            max-width: 95vw;
            height: 95vh;
        }
        .main-content-wrapper.closing {
            animation: shakeAndFadeOut 0.8s forwards;
        }
        @keyframes shakeAndFadeOut {
            0% { transform: scale(1) rotate(0); opacity: 1; }
            20% { transform: scale(1.02) rotate(1deg); }
            40% { transform: scale(1.02) rotate(-1deg); }
            60% { transform: scale(1.02) rotate(1deg); }
            80% { transform: scale(1.02) rotate(-1deg); }
            100% { transform: scale(0.5); opacity: 0; }
        }
        .top-left-button,
        .top-right-buttons button {
            background-color: rgba(255, 255, 255, 0.2);
            color: #424242;
            backdrop-filter: blur(5px);
            transition: background-color 0.3s ease;
            cursor: pointer;
            z-index: 10;
        }
        .top-left-button:hover,
        .top-right-buttons button:hover {
            background-color: var(--bg-glass-hover);
        }
        .top-left-button {
            position: fixed;
            top: 20px;
            left: 20px;
            padding: 8px 15px;
            border-radius: 9999px;
            font-weight: 600;
        }
        .top-right-buttons {
            position: fixed;
            top: 20px;
            right: 20px;
            display: flex;
            gap: 10px;
            z-index: 10;
        }
        .top-right-buttons button {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            border: none;
        }
        .tabs-container {
            display: flex;
            justify-content: center;
            padding: 10px 0;
            gap: 50px;
        }
        .tab-link {
            font-family: 'Poppins', sans-serif;
            font-size: 1.1rem;
            font-weight: 600;
            color: #555;
            background: none;
            border: none;
            padding: 10px 20px;
            cursor: pointer;
            position: relative;
            transition: color 0.3s ease;
            padding-bottom: 12px;
        }
        .tab-link.active {
            color: #212121;
        }
        .tab-link:not(.active):hover {
            color: #333;
        }
        .tab-link::after {
            content: '';
            position: absolute;
            bottom: 5px;
            left: 50%;
            transform: translateX(-50%) scaleX(0);
            width: 60%;
            height: 2px;
            background-color: var(--border-color);
            border-radius: 1px;
            transition: transform 0.3s ease-out;
            transform-origin: center;
        }
        .tab-link.active::after {
            transform: translateX(-50%) scaleX(1);
        }
        .tab-content {
            display: none;
            flex-grow: 1;
            overflow: hidden;
            animation: fadeIn 0.5s;
        }
        .tab-content.active {
            display: flex;
            flex-direction: column;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 10px;
            padding: 10px;
            overflow-y: auto;
            flex-grow: 1;
            align-content: start;
        }
        .gallery-item {
            aspect-ratio: 1 / 1;
            border-radius: 8px;
            overflow: hidden;
            position: relative;
        }
        .loading-placeholder {
            background-color: rgba(255, 255, 255, 0.1);
            animation: pulse-bg 2s infinite;
        }
        @keyframes pulse-bg {
            0% { background-color: rgba(255, 255, 255, 0.1); }
            50% { background-color: rgba(255, 255, 255, 0.2); }
            100% { background-color: rgba(255, 255, 255, 0.1); }
        }
        .gallery-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            cursor: pointer;
            opacity: 0;
            transition: opacity 0.5s ease, transform 0.3s ease;
        }
        .gallery-item img.loaded {
            opacity: 1;
        }
        .gallery-item img:hover {
            transform: scale(1.05);
        }
        .pagination-controls {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 15px 0 5px 0;
            gap: 8px;
        }
        .page-btn {
            background-color: rgba(255, 255, 255, 0.2);
            border: 1px solid rgba(0,0,0,0.05);
            color: #555;
            width: 40px;
            height: 40px;
            border-radius: 10px;
            font-weight: 600;
            transition: all 0.2s ease;
        }
        .page-btn:hover {
            background-color: rgba(255, 255, 255, 0.4);
            color: #212121;
        }
        .page-btn.active {
            background-color: #ff99ac;
            color: white;
            border-color: transparent;
            box-shadow: 0 4px 14px -4px #ff99ac;
        }
        .page-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        .image-modal {
            display: none;
            position: fixed;
            z-index: 10000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.85);
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(5px);
        }
        .modal-content-wrapper {
            max-width: 90vw;
            max-height: 80vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .modal-content {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
            transition: transform 0.3s ease-in-out;
            cursor: grab;
        }
        .modal-content.panning {
            transition: none;
        }
        .close-modal {
            position: absolute;
            top: 20px;
            right: 35px;
            color: #f1f1f1;
            font-size: 40px;
            font-weight: bold;
            transition: 0.3s;
            cursor: pointer;
        }
        .close-modal:hover,
        .close-modal:focus {
            color: #bbb;
            text-decoration: none;
        }
        .modal-controls {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 15px;
            background-color: rgba(30, 30, 30, 0.7);
            padding: 10px 20px;
            border-radius: 50px;
        }
        .modal-controls button {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
            transition: transform 0.2s;
        }
        .modal-controls button:hover {
            transform: scale(1.2);
        }
        .profile-section {
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            flex-grow: 1;
        }
        .themed-border {
            border-color: var(--border-color);
        }
        .profile-avatar-container {
            position: relative;
            margin-bottom: 20px;
            width: 170px;
            height: 170px;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .profile-avatar {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            object-fit: cover;
            border: 5px solid transparent;
            background-image: linear-gradient(rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.1)), linear-gradient(45deg, #ff9a8b, #ff6a88, #ff99ac);
            background-origin: border-box;
            background-clip: content-box, border-box;
            box-shadow: 0 0 20px var(--primary-glow), 0 0 40px var(--secondary-glow);
            animation: pulse-glow 3s infinite alternate;
        }
        @keyframes pulse-glow {
            from { box-shadow: 0 0 20px var(--primary-glow), 0 0 40px var(--secondary-glow); }
            to { box-shadow: 0 0 25px rgba(255, 106, 136, 1), 0 0 50px rgba(255, 154, 139, 0.8); }
        }
        .thought-bubble {
            position: fixed;
            background-color: rgba(255, 255, 255, 0.5);
            border: 1px solid rgba(255, 153, 172, 0.7);
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            white-space: nowrap;
            color: #424242;
            box-shadow: 0 0 10px rgba(255, 153, 172, 0.5);
            cursor: grab;
            z-index: 5;
        }
        .thought-bubble.dragging {
            cursor: grabbing;
            box-shadow: 0 0 20px var(--primary-glow), 0 0 30px var(--secondary-glow);
        }
        .social-icons a {
            background-color: rgba(255, 255, 255, 0.2);
            color: #424242;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: inline-flex;
            justify-content: center;
            align-items: center;
            font-size: 1.5rem;
            transition: transform 0.3s ease, background-color 0.3s ease;
        }
        .social-icons a:hover {
            transform: translateY(-5px) scale(1.1);
            background-color: var(--bg-glass-hover);
        }
        .copyright-text {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 0.85rem;
            color: #757575;
            z-index: 10;
        }
        .black-cat {
            position: fixed;
            bottom: 10px;
            right: 20px;
            width: 80px;
            height: auto;
            z-index: 10;
            animation: cat-bounce 3s ease-in-out infinite alternate;
        }
        @keyframes cat-bounce {
            0% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
            100% { transform: translateY(0); }
        }
        .settings-panel {
            position: fixed;
            top: 70px;
            right: 20px;
            z-index: 20;
            padding: 20px;
            border-radius: 15px;
            background-color: rgba(255, 255, 255, 0.35);
            backdrop-filter: blur(10px);
            box-shadow: 0 0 25px rgba(229, 154, 154, 0.35);
            display: flex;
            flex-direction: column;
            gap: 18px;
            color: #424242;
            width: 260px;
            transform: scale(0.95) translateY(-10px);
            opacity: 0;
            pointer-events: none;
            transition: transform 0.3s cubic-bezier(0.25, 1, 0.5, 1), opacity 0.3s ease;
            transform-origin: top right;
        }
        .settings-panel.visible {
            transform: scale(1) translateY(0);
            opacity: 1;
            pointer-events: auto;
        }
        .settings-panel h3 {
            text-align: center;
            font-size: 1.1rem;
            margin-bottom: 5px;
            color: #212121;
        }
        .setting-item {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        .setting-item label {
            font-weight: 600;
            font-size: 0.9rem;
        }
        .video-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 5px;
        }
        .video-controls button {
            background-color: rgba(255, 255, 255, 0.2);
            color: #424242;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: none;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease;
        }
        .video-controls button:hover {
            background-color: var(--bg-glass-hover);
            transform: scale(1.1);
        }
        #videoCounter {
            font-weight: 600;
            font-size: 0.9rem;
        }
        @media (max-width: 768px) {
            .main-content-wrapper { width: 90vw; padding: 12px; min-height: 0; height: auto; margin-top: 55px; margin-bottom: 50px; }
            .gallery-grid { grid-template-columns: repeat(auto-fill, minmax(80px, 1fr)); gap: 5px; }
            .profile-avatar { width: 80px; height: 80px; }
            .profile-avatar-container { width: 120px; height: 120px; margin-bottom: 10px; }
            .thought-bubble { padding: 6px 12px; font-size: 0.7rem; }
            .profile-section h2 { font-size: 1.5rem; margin-bottom: 0.5rem; line-height: 1.2; }
            .profile-section p { font-size: 0.85rem; }
            .social-icons a { width: 36px; height: 36px; font-size: 1.1rem; }
            .social-icons { gap: 0.75rem; margin-bottom: 0.75rem; }
            .profile-section .relative.flex { margin-bottom: 1rem; }
            #thoughtBubblesContainer { display: block; }
            .settings-panel { right: 10px; top: 50px; width: calc(100% - 20px); max-width: 260px; }
            .top-left-button, .copyright-text, .black-cat, .top-right-buttons { position: fixed; }
            .top-left-button { top: 10px; left: 10px; font-size: 0.75rem; padding: 5px 10px; }
            .top-right-buttons { top: 10px; right: 10px; gap: 5px; }
            .top-right-buttons button { width: 32px; height: 32px; }
            .copyright-text { bottom: 8px; font-size: 0.7rem; }
            .black-cat { bottom: 5px; right: 10px; width: 50px; }
        }
    </style>
</head>
<body class="no-select">
    <div id="videoBackgroundContainer"><video id="bgVideo" muted loop playsinline></video></div>
    <canvas id="snowCanvas"></canvas>
    <canvas id="trailCanvas"></canvas>
    <button id="homeBtn" class="top-left-button poppins-font">[RS Profile]</button>
    <div class="top-right-buttons">
        <button id="settingsBtn" aria-label="Settings"><i class="fas fa-cog"></i></button>
        <button id="minimizeBtn" aria-label="Minimize"><i class="fas fa-minus"></i></button>
        <button id="maximizeBtn" aria-label="Maximize"><i class="fas fa-square"></i></button>
        <button id="closeBtn" aria-label="Close"><i class="fas fa-times"></i></button>
    </div>
    <div id="settingsPanel" class="settings-panel">
        <h3 class="poppins-font">Background Settings</h3>
        <div class="setting-item">
            <label for="blurSlider">Blur</label>
            <input type="range" id="blurSlider" min="0" max="20" value="0" step="1">
        </div>
        <div class="setting-item">
            <label for="volumeSlider">Volume</label>
            <input type="range" id="volumeSlider" min="0" max="1" value="0.5" step="0.05">
        </div>
        <div class="video-controls">
            <button id="prevVideoBtn" aria-label="Previous Video"><i class="fas fa-chevron-left"></i></button>
            <button id="playPauseBtn" aria-label="Play/Pause Video"><i class="fas fa-pause"></i></button>
            <span id="videoCounter">0 / 0</span>
            <button id="nextVideoBtn" aria-label="Next Video"><i class="fas fa-chevron-right"></i></button>
        </div>
    </div>
    <div id="thoughtBubblesContainer">
        <div class="thought-bubble" id="bubble1">Coder (kind of)</div>
        <div class="thought-bubble" id="bubble2">Me like cat</div>
        <div class="thought-bubble" id="bubble3">Being femboy~</div>
        <div class="thought-bubble" id="bubble4">Studying in school</div>
    </div>
    <div id="mainContent" class="main-content-wrapper">
        <div class="tabs-container">
            <button class="tab-link active" data-tab="home">HOME</button>
            <button class="tab-link" data-tab="gallery">GALLERY</button>
        </div>
        <div id="home" class="tab-content active">
            <div class="profile-section">
                <div class="profile-avatar-container">
                    <img src="https://i.imgur.com/RtvXieL.jpeg" alt="Profile Avatar" class="profile-avatar" onerror="this.onerror=null;this.src='https://i.imgur.com/RtvXieL.jpeg';">
                </div>
                <h2 class="text-4xl font-bold poppins-font mb-4">Hello ! I'm Red Sus's</h2>
                <div class="social-icons flex justify-center gap-4 mb-6">
                    <a href="https://discord.com/users/968437760463622164" target="_blank" aria-label="Discord"><i class="fab fa-discord"></i></a>
                    <a href="https://freehosting.qzz.io/" target="_blank" aria-label="FreeHosting (kinda abandoned project)"><i class="fa-solid fa-cloud"></i></a>
                    <a href="/amv" target="_blank" aria-label="Audio Music Visualizer"><i class="fa-solid fa-music"></i></a>
                </div>
                <div class="relative flex items-center mb-6 w-full max-w-sm">
                    <div class="flex-grow border-t themed-border"></div>
                    <span class="flex-shrink mx-4 text-gray-500"></span>
                    <div class="flex-grow border-t themed-border"></div>
                </div>
                <p>Average Vietnamese femboy~ <3</p>
            </div>
        </div>
        <div id="gallery" class="tab-content">
            <div class="gallery-grid"></div>
            <div class="pagination-controls"></div>
        </div>
    </div>
    <p class="copyright-text">© Red Sus's Profile V1.0.4</p>
    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT05S0PLgLZcSn0efstxczG0L5UlIVmaU8oDw&s" alt="Black Cat" class="black-cat" onerror="this.onerror=null;this.src='https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT05S0PLgLZcSn0efstxczG0L5UlIVmaU8oDw&s';">
    <div class="image-modal">
        <span class="close-modal">&times;</span>
        <div class="modal-content-wrapper">
            <img class="modal-content" id="modalImg">
        </div>
        <div class="modal-controls">
            <button id="zoomInBtn"><i class="fas fa-search-plus"></i></button>
            <button id="zoomOutBtn"><i class="fas fa-search-minus"></i></button>
            <button id="rotateLeftBtn"><i class="fas fa-undo"></i></button>
            <button id="rotateRightBtn"><i class="fas fa-redo"></i></button>
        </div>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const mainContent = document.getElementById('mainContent');
            const minimizeBtn = document.getElementById('minimizeBtn');
            const maximizeBtn = document.getElementById('maximizeBtn');
            const closeBtn = document.getElementById('closeBtn');
            const homeBtn = document.getElementById('homeBtn');
            const maximizeIcon = maximizeBtn.querySelector('i');
            const settingsBtn = document.getElementById('settingsBtn');
            const settingsPanel = document.getElementById('settingsPanel');
            const bgVideo = document.getElementById('bgVideo');
            const blurSlider = document.getElementById('blurSlider');
            const volumeSlider = document.getElementById('volumeSlider');
            const prevVideoBtn = document.getElementById('prevVideoBtn');
            const nextVideoBtn = document.getElementById('nextVideoBtn');
            const videoCounter = document.getElementById('videoCounter');
            const playPauseBtn = document.getElementById('playPauseBtn');
            const tabs = document.querySelectorAll('.tab-link');
            const tabContents = document.querySelectorAll('.tab-content');
            const modal = document.querySelector('.image-modal');
            const modalImg = document.getElementById('modalImg');
            const closeModalBtn = document.querySelector('.close-modal');
            const zoomInBtn = document.getElementById('zoomInBtn');
            const zoomOutBtn = document.getElementById('zoomOutBtn');
            const rotateLeftBtn = document.getElementById('rotateLeftBtn');
            const rotateRightBtn = document.getElementById('rotateRightBtn');
            const galleryGrid = document.querySelector('.gallery-grid');
            const paginationControls = document.querySelector('.pagination-controls');

            let videoUrls = [];
            let currentVideoIndex = 0;
            let allImageUrls = [];
            let currentPage = 1;
            const itemsPerPage = 10;
            let isInteractable = true;
            const COOLDOWN_PERIOD = 800;
            let scale = 1, rotation = 0, translateX = 0, translateY = 0;
            let isPanning = false, startX, startY;

            async function fetchContent(url) {
                try {
                    const response = await fetch(url);
                    if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
                    const text = await response.text();
                    return text.split('\n').map(line => line.trim()).filter(line => line.length > 0);
                } catch (e) {
                    console.error(`Failed to fetch content from ${url}:`, e);
                    return [];
                }
            }

            function displayPage(page) {
                galleryGrid.innerHTML = '';
                currentPage = page;
                const startIndex = (currentPage - 1) * itemsPerPage;
                const endIndex = startIndex + itemsPerPage;
                const pageImages = allImageUrls.slice(startIndex, endIndex);

                pageImages.forEach(src => {
                    const item = document.createElement('div');
                    item.className = 'gallery-item loading-placeholder';
                    const img = document.createElement('img');
                    img.alt = 'Gallery Image';
                    img.onload = () => {
                        item.classList.remove('loading-placeholder');
                        img.classList.add('loaded');
                    };
                    img.onerror = () => {
                        item.classList.remove('loading-placeholder');
                        item.style.backgroundColor = '#555';
                    };
                    img.src = src;
                    img.addEventListener('click', () => openModal(src));
                    item.appendChild(img);
                    galleryGrid.appendChild(item);
                });
                setupPagination();
            }

            function setupPagination() {
                paginationControls.innerHTML = '';
                const totalPages = Math.ceil(allImageUrls.length / itemsPerPage);
                if (totalPages <= 1) return;

                const prevButton = document.createElement('button');
                prevButton.innerHTML = `<i class="fas fa-chevron-left"></i>`;
                prevButton.className = 'page-btn';
                prevButton.disabled = currentPage === 1;
                prevButton.addEventListener('click', () => {
                    if (currentPage > 1) displayPage(currentPage - 1);
                });
                paginationControls.appendChild(prevButton);
                
                for (let i = 1; i <= totalPages; i++) {
                    const pageButton = document.createElement('button');
                    pageButton.textContent = i;
                    pageButton.className = 'page-btn';
                    if (i === currentPage) {
                        pageButton.classList.add('active');
                    }
                    pageButton.addEventListener('click', () => displayPage(i));
                    paginationControls.appendChild(pageButton);
                }

                const nextButton = document.createElement('button');
                nextButton.innerHTML = `<i class="fas fa-chevron-right"></i>`;
                nextButton.className = 'page-btn';
                nextButton.disabled = currentPage === totalPages;
                nextButton.addEventListener('click', () => {
                    if (currentPage < totalPages) displayPage(currentPage + 1);
                });
                paginationControls.appendChild(nextButton);
            }
            
            function setCooldown() {
                isInteractable = false;
                setTimeout(() => { isInteractable = true; }, COOLDOWN_PERIOD);
            }

            function updateVideoCounter() {
                if (videoUrls.length > 0) {
                    videoCounter.textContent = `${currentVideoIndex + 1} / ${videoUrls.length}`;
                }
            }
            
            function loadVideo(index) {
                if (videoUrls.length === 0) return;
                bgVideo.style.opacity = '0';
                setTimeout(() => {
                    bgVideo.src = videoUrls[index];
                    bgVideo.load();
                    const playPromise = bgVideo.play();
                    if (playPromise !== undefined) {
                        playPromise.catch(error => {
                            bgVideo.muted = true;
                            bgVideo.play();
                        });
                    }
                    const icon = playPauseBtn.querySelector('i');
                    icon.classList.remove('fa-play');
                    icon.classList.add('fa-pause');
                    updateVideoCounter();
                }, 800);
            }
            
            function updateTransform() {
                modalImg.style.transform = `translate(${translateX}px, ${translateY}px) scale(${scale}) rotate(${rotation}deg)`;
            }

            function resetTransform() {
                scale = 1; rotation = 0; translateX = 0; translateY = 0;
                updateTransform();
            }

            function openModal(src) {
                resetTransform();
                modalImg.src = src;
                modal.style.display = 'flex';
            }

            function closeModal() {
                modal.style.display = 'none';
            }

            const startPan = (e) => {
                e.preventDefault();
                isPanning = true;
                modalImg.classList.add('panning');
                const clientX = e.clientX || e.touches[0].clientX;
                const clientY = e.clientY || e.touches[0].clientY;
                startX = clientX - translateX;
                startY = clientY - translateY;
                modalImg.style.cursor = 'grabbing';
            };

            const pan = (e) => {
                if (!isPanning) return;
                e.preventDefault();
                const clientX = e.clientX || e.touches[0].clientX;
                const clientY = e.clientY || e.touches[0].clientY;
                translateX = clientX - startX;
                translateY = clientY - startY;
                updateTransform();
            };
            
            const endPan = () => {
                if (!isPanning) return;
                isPanning = false;
                modalImg.style.cursor = 'grab';
                modalImg.classList.remove('panning');
            };

            async function initializeApp() {
                videoUrls = await fetchContent('https://sussydomain.eu.org/video.txt');
                if (videoUrls.length > 0) {
                    loadVideo(currentVideoIndex);
                } else {
                    videoCounter.textContent = '0 / 0';
                }
                allImageUrls = await fetchContent('https://sussydomain.eu.org/gallery.txt');
                if (allImageUrls.length > 0) {
                    displayPage(1);
                } else {
                    galleryGrid.innerHTML = '<p class="text-center text-gray-500 col-span-full">No picture yet...</p>';
                }

                animateSnow();
                animateBubbles();
                bgVideo.volume = volumeSlider.value;
            }

            minimizeBtn.addEventListener('click', () => {
                if (!isInteractable) return;
                setCooldown();
                mainContent.classList.add('minimized');
                mainContent.classList.remove('maximized');
                maximizeIcon.classList.remove('fa-window-restore');
                maximizeIcon.classList.add('fa-square');
            });

            maximizeBtn.addEventListener('click', () => {
                if (!isInteractable) return;
                setCooldown();
                if (mainContent.classList.contains('minimized')) {
                    mainContent.classList.remove('minimized');
                }
                mainContent.classList.toggle('maximized');
                if (mainContent.classList.contains('maximized')) {
                    maximizeIcon.classList.remove('fa-square');
                    maximizeIcon.classList.add('fa-window-restore');
                } else {
                    maximizeIcon.classList.remove('fa-window-restore');
                    maximizeIcon.classList.add('fa-square');
                }
            });

            closeBtn.addEventListener('click', () => {
                if (!isInteractable || mainContent.classList.contains('minimized')) return;
                setCooldown();
                mainContent.classList.add('closing');
                mainContent.addEventListener('animationend', () => {
                    mainContent.classList.add('minimized');
                    mainContent.classList.remove('closing');
                }, { once: true });
            });

            homeBtn.addEventListener('click', () => {
                if (!isInteractable) return;
                setCooldown();
                mainContent.classList.remove('minimized', 'maximized', 'closing');
                maximizeIcon.classList.remove('fa-window-restore');
                maximizeIcon.classList.add('fa-square');
            });

            bgVideo.addEventListener('loadeddata', () => { bgVideo.style.opacity = '1'; });
            bgVideo.addEventListener('ended', () => {
                currentVideoIndex = (currentVideoIndex + 1) % videoUrls.length;
                loadVideo(currentVideoIndex);
            });

            settingsBtn.addEventListener('click', () => { settingsPanel.classList.toggle('visible'); });
            blurSlider.addEventListener('input', (e) => { bgVideo.style.filter = `blur(${e.target.value}px)`; });
            volumeSlider.addEventListener('input', (e) => {
                bgVideo.volume = e.target.value;
                bgVideo.muted = e.target.value == 0;
            });
            nextVideoBtn.addEventListener('click', () => {
                if (videoUrls.length === 0) return;
                currentVideoIndex = (currentVideoIndex + 1) % videoUrls.length;
                loadVideo(currentVideoIndex);
            });
            prevVideoBtn.addEventListener('click', () => {
                if (videoUrls.length === 0) return;
                currentVideoIndex = (currentVideoIndex - 1 + videoUrls.length) % videoUrls.length;
                loadVideo(currentVideoIndex);
            });
            playPauseBtn.addEventListener('click', () => {
                const icon = playPauseBtn.querySelector('i');
                if (bgVideo.paused) {
                    bgVideo.play();
                    icon.classList.remove('fa-play');
                    icon.classList.add('fa-pause');
                } else {
                    bgVideo.pause();
                    icon.classList.remove('fa-pause');
                    icon.classList.add('fa-play');
                }
            });

            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    const target = document.getElementById(tab.dataset.tab);
                    tabs.forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');
                    tabContents.forEach(c => c.classList.remove('active'));
                    target.classList.add('active');
                });
            });

            closeModalBtn.addEventListener('click', closeModal);
            modal.addEventListener('click', (e) => { if (e.target === modal) closeModal(); });
            zoomInBtn.addEventListener('click', () => { scale *= 1.2; updateTransform(); });
            zoomOutBtn.addEventListener('click', () => { scale /= 1.2; updateTransform(); });
            rotateLeftBtn.addEventListener('click', () => { rotation -= 90; updateTransform(); });
            rotateRightBtn.addEventListener('click', () => { rotation += 90; updateTransform(); });

            modalImg.addEventListener('mousedown', startPan);
            window.addEventListener('mousemove', pan);
            window.addEventListener('mouseup', endPan);
            modalImg.addEventListener('touchstart', startPan, { passive: false });
            window.addEventListener('touchmove', pan, { passive: false });
            window.addEventListener('touchend', endPan);

            initializeApp();
        });

        function setupCanvas(canvasId) {
            const canvas = document.getElementById(canvasId);
            const ctx = canvas.getContext('2d');
            let width, height;
            function resizeCanvas() {
                width = canvas.width = window.innerWidth;
                height = canvas.height = window.innerHeight;
            }
            window.addEventListener('resize', resizeCanvas);
            resizeCanvas();
            return {
                canvas, ctx,
                get width() { return width; },
                get height() { return height; }
            };
        }

        const { ctx: snowCtx, width: snowWidth, height: snowHeight } = setupCanvas('snowCanvas');
        const snowflakes = [];
        const maxSnowflakes = 150;
        let mouseX = -100, mouseY = -100;
        window.addEventListener('mousemove', (e) => {
            mouseX = e.clientX;
            mouseY = e.clientY;
        });
        window.addEventListener('mouseleave', () => {
            mouseX = -100;
            mouseY = -100;
        });
        class Snowflake {
            constructor() { this.reset(); }
            reset() {
                this.x = Math.random() * snowWidth;
                this.y = Math.random() * snowHeight;
                this.size = Math.random() * 3 + 1;
                this.speedY = Math.random() * 0.5 + 0.2;
                this.speedX = (Math.random() - 0.5) * 0.5;
                this.opacity = Math.random() * 0.7 + 0.3;
                this.fadeSpeed = Math.random() * 0.005 + 0.001;
                this.life = 1;
                this.windInfluence = Math.random() * 0.05 + 0.02;
            }
            update() {
                this.y += this.speedY;
                this.x += this.speedX;
                if (mouseX !== -100) {
                    const dx = this.x - mouseX;
                    const dy = this.y - mouseY;
                    const distance = Math.sqrt(dx * dx + dy * dy);
                    if (distance < 200) {
                        const force = (200 - distance) / 200;
                        this.x += (dx > 0 ? 1 : -1) * force * this.windInfluence * 5;
                        this.y += (dy > 0 ? 1 : -1) * force * this.windInfluence * 2;
                    }
                }
                if (this.y > snowHeight * 0.8) {
                    this.life -= this.fadeSpeed;
                    this.opacity = Math.max(0, this.life * 0.7 + 0.3);
                }
                if (this.y > snowHeight + this.size || this.life <= 0) {
                    this.reset();
                    this.y = -this.size;
                }
            }
            draw() {
                snowCtx.fillStyle = `rgba(255, 255, 255, ${this.opacity})`;
                snowCtx.beginPath();
                snowCtx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                snowCtx.fill();
            }
        }
        for (let i = 0; i < maxSnowflakes; i++) { snowflakes.push(new Snowflake()); }
        function animateSnow() {
            snowCtx.clearRect(0, 0, snowWidth, snowHeight);
            snowflakes.forEach(flake => {
                flake.update();
                flake.draw();
            });
            requestAnimationFrame(animateSnow);
        }

        const bubbles = document.querySelectorAll('.thought-bubble');
        const physicsBubbles = [];
        const friction = 0.95;
        const bounceFactor = 0.7;
        const minVelocity = 0.1;
        const randomForceScale = 0.05;
        bubbles.forEach((bubble, index) => {
            const rect = bubble.getBoundingClientRect();
            let initialX = Math.random() * (window.innerWidth - rect.width);
            let initialY = Math.random() * (window.innerHeight - rect.height);
            const spreadOffset = 100;
            if (index === 0) {
                initialX = window.innerWidth * 0.2 - spreadOffset;
                initialY = window.innerHeight * 0.2 - spreadOffset;
            }
            if (index === 1) {
                initialX = window.innerWidth * 0.8 + spreadOffset - rect.width;
                initialY = window.innerHeight * 0.2 - spreadOffset;
            }
            if (index === 2) {
                initialX = window.innerWidth * 0.2 - spreadOffset;
                initialY = window.innerHeight * 0.8 + spreadOffset - rect.height;
            }
            if (index === 3) {
                initialX = window.innerWidth * 0.8 + spreadOffset - rect.width;
                initialY = window.innerHeight * 0.8 + spreadOffset - rect.height;
            }
            bubble.style.left = `${initialX}px`;
            bubble.style.top = `${initialY}px`;
            physicsBubbles.push({
                element: bubble, x: initialX, y: initialY,
                vx: (Math.random() - 0.5) * 2,
                vy: (Math.random() - 0.5) * 2,
                isDragging: false, offsetX: 0, offsetY: 0,
                width: rect.width, height: rect.height
            });
        });
        let activeBubble = null;
        function handleDragStart(e) {
            const target = e.target;
            if (target && target.classList.contains('thought-bubble')) {
                activeBubble = physicsBubbles.find(b => b.element === target);
                if (activeBubble) {
                    const clientX = e.clientX || e.touches[0].clientX;
                    const clientY = e.clientY || e.touches[0].clientY;
                    activeBubble.isDragging = true;
                    activeBubble.element.classList.add('dragging');
                    activeBubble.offsetX = clientX - activeBubble.x;
                    activeBubble.offsetY = clientY - activeBubble.y;
                    activeBubble.vx = 0;
                    activeBubble.vy = 0;
                    if (e.type === 'touchstart') e.preventDefault();
                }
            }
        }
        function handleDragMove(e) {
            if (activeBubble && activeBubble.isDragging) {
                const clientX = e.clientX || e.touches[0].clientX;
                const clientY = e.clientY || e.touches[0].clientY;
                activeBubble.x = clientX - activeBubble.offsetX;
                activeBubble.y = clientY - activeBubble.offsetY;
                activeBubble.x = Math.max(0, Math.min(activeBubble.x, window.innerWidth - activeBubble.width));
                activeBubble.y = Math.max(0, Math.min(activeBubble.y, window.innerHeight - activeBubble.height));
                activeBubble.element.style.left = `${activeBubble.x}px`;
                activeBubble.element.style.top = `${activeBubble.y}px`;
                if (e.type === 'touchmove') e.preventDefault();
            }
        }
        function handleDragEnd() {
            if (activeBubble) {
                activeBubble.isDragging = false;
                activeBubble.element.classList.remove('dragging');
                activeBubble.vx = (Math.random() - 0.5) * 10;
                activeBubble.vy = (Math.random() - 0.5) * 10;
                activeBubble = null;
            }
        }
        document.addEventListener('mousedown', handleDragStart);
        document.addEventListener('mousemove', handleDragMove);
        document.addEventListener('mouseup', handleDragEnd);
        document.addEventListener('touchstart', handleDragStart, { passive: false });
        document.addEventListener('touchmove', handleDragMove, { passive: false });
        document.addEventListener('touchend', handleDragEnd);
        function animateBubbles() {
            physicsBubbles.forEach(bubble => {
                if (!bubble.isDragging) {
                    bubble.vx *= friction;
                    bubble.vy *= friction;
                    if (Math.abs(bubble.vx) < minVelocity && Math.abs(bubble.vy) < minVelocity) {
                        bubble.vx += (Math.random() - 0.5) * randomForceScale;
                        bubble.vy += (Math.random() - 0.5) * randomForceScale;
                    }
                    bubble.x += bubble.vx;
                    bubble.y += bubble.vy;
                    if (bubble.x + bubble.width > window.innerWidth) {
                        bubble.x = window.innerWidth - bubble.width;
                        bubble.vx *= -bounceFactor;
                    } else if (bubble.x < 0) {
                        bubble.x = 0;
                        bubble.vx *= -bounceFactor;
                    }
                    if (bubble.y + bubble.height > window.innerHeight) {
                        bubble.y = window.innerHeight - bubble.height;
                        bubble.vy *= -bounceFactor;
                    } else if (bubble.y < 0) {
                        bubble.y = 0;
                        bubble.vy *= -bounceFactor;
                    }
                    bubble.element.style.left = `${bubble.x}px`;
                    bubble.element.style.top = `${bubble.y}px`;
                }
            });
            requestAnimationFrame(animateBubbles);
        }

        const trailCanvas = document.getElementById('trailCanvas');
        const ctxTrail = trailCanvas.getContext('2d');
        let trailParticles = [];
        let mousePos = { x: null, y: null };
        let mouseTrail = [];
        const trailLifetime = 150;
        const particleFrequency = 10;
        function resizeTrailCanvas() {
            trailCanvas.width = window.innerWidth;
            trailCanvas.height = window.innerHeight;
        }
        window.addEventListener('resize', resizeTrailCanvas);
        resizeTrailCanvas();
        function handleInteractionUpdate(x, y) {
            if (mousePos.x !== null && mousePos.y !== null) {
                const distance = Math.sqrt(Math.pow(x - mousePos.x, 2) + Math.pow(y - mousePos.y, 2));
                if (distance > particleFrequency) {
                    createHeartParticle(x, y);
                }
            }
            mousePos.x = x;
            mousePos.y = y;
            mouseTrail.push({ x: mousePos.x, y: mousePos.y, timestamp: Date.now() });
        }
        window.addEventListener('mousemove', (e) => { handleInteractionUpdate(e.clientX, e.clientY); });
        window.addEventListener('touchstart', (e) => {
            if (e.touches.length > 0) {
                const touch = e.touches[0];
                mousePos.x = touch.clientX;
                mousePos.y = touch.clientY;
                mouseTrail.push({ x: mousePos.x, y: mousePos.y, timestamp: Date.now() });
            }
        }, { passive: false });
        window.addEventListener('touchmove', (e) => {
            e.preventDefault();
            if (e.touches.length > 0) {
                const touch = e.touches[0];
                handleInteractionUpdate(touch.clientX, touch.clientY);
            }
        }, { passive: false });
        window.addEventListener('touchend', () => { mousePos.x = null; mousePos.y = null; });
        function createHeartParticle(x, y) {
            trailParticles.push({
                x: x, y: y,
                vx: (Math.random() - 0.5) * 2,
                vy: (Math.random() - 0.5) * 2,
                opacity: 1, size: Math.random() * 10 + 5
            });
        }
        function drawHeartEmoji(x, y, opacity, size) {
            ctxTrail.font = `${size}px serif`;
            ctxTrail.globalAlpha = opacity;
            ctxTrail.fillText("❤️", x - size / 2, y + size / 2);
            ctxTrail.globalAlpha = 1;
        }
        function animateTrail() {
            ctxTrail.clearRect(0, 0, trailCanvas.width, trailCanvas.height);
            const now = Date.now();
            for (let i = trailParticles.length - 1; i >= 0; i--) {
                let p = trailParticles[i];
                p.x += p.vx;
                p.y += p.vy;
                p.opacity -= 0.01;
                p.size -= 0.1;
                if (p.opacity <= 0 || p.size <= 0) {
                    trailParticles.splice(i, 1);
                } else {
                    drawHeartEmoji(p.x, p.y, p.opacity, p.size);
                }
            }
            mouseTrail = mouseTrail.filter(segment => now - segment.timestamp < trailLifetime);
            if (mouseTrail.length > 1) {
                ctxTrail.beginPath();
                ctxTrail.moveTo(mouseTrail[0].x, mouseTrail[0].y);
                for (let i = 1; i < mouseTrail.length - 1; i++) {
                    const nextPoint = mouseTrail[i + 1];
                    const midpointX = (mouseTrail[i].x + nextPoint.x) / 2;
                    const midpointY = (mouseTrail[i].y + nextPoint.y) / 2;
                    ctxTrail.quadraticCurveTo(mouseTrail[i].x, mouseTrail[i].y, midpointX, midpointY);
                }
                ctxTrail.lineTo(mouseTrail[mouseTrail.length - 1].x, mouseTrail[mouseTrail.length - 1].y);
                const gradient = ctxTrail.createLinearGradient(mouseTrail[0].x, mouseTrail[0].y, mouseTrail[mouseTrail.length - 1].x, mouseTrail[mouseTrail.length - 1].y);
                gradient.addColorStop(0, 'rgba(255, 182, 193, 0.8)');
                gradient.addColorStop(1, 'rgba(255, 105, 180, 0.6)');
                ctxTrail.strokeStyle = gradient;
                ctxTrail.lineWidth = 8;
                ctxTrail.lineCap = 'round';
                ctxTrail.lineJoin = 'round';
                ctxTrail.stroke();
                ctxTrail.shadowBlur = 15;
                ctxTrail.shadowColor = '#ff69b4';
                ctxTrail.stroke();
                ctxTrail.shadowBlur = 0;
            }
            requestAnimationFrame(animateTrail);
        }
        animateTrail();
// why i want to be a femboy you might ask? well for making me be confident to myself again

// trying to killing myself twice and failed because i still have a lot of things to do, the second try make me so depressed and stress, but me found out that being femboy make me more confident about my look and myself so i became one

// not gonna lie, treat me like a fucking psycho and put 1 billion camera into the house to monitor me 24/7 while im a normal functional human being that have big dream and big hobby to do sound like a crime, especially when im nearly 18 years old just make it 10 times worse, 17-18 years old is the time that i know about something called "privacy" and it is also the time that my body have a lot of changes that need to be kept secret, but no, i have no such thing called "privacy" in my own house, all of my things and secret, i have to hide it in all of the most sketchy way and yet my fucking mom always take that as "naughty", yeah, right, sure, very fair

// you are the one that make me so stress and depressed as much that i want to kill my whole entire life and yet you still not realise how stupid you are, such a great mom, im already told you about this and you just take it as "naughty", sure, definally naughty in your eye, yes i am, why the fuck you dont go and kill the shit out of me when i was born? oh great you treat me like a fucking dogs in my house and ruined my whole childhood, making be turn into weird kid in the class, making other people having a very very bad look to me and you doesnt even care about it for a single time and you still expect me to care about you? heh how smooth your brain is

// im not complaining about my life is bad (it is), im just complaining about you, as a mom, have no fucking idea what your kid want and need and just ruin it like a fucking piece of burned food and expect it to taste good, wow love it

// and if you know about me being a femboy, you will definally call me trash and think that internet is the cause and you will do a whole bunch of shit and just making me even more depressed and stress, if that actually happen, expect your son's body in the river, no joke. i tried to kill myself before by going to the nearest river, but well, i guess it isnt very deep and just barely enough for me to take a bath there, very dissapointed. i guess next time ill use rope, much more efficient and way faster.
    </script>
</body>
</html>

